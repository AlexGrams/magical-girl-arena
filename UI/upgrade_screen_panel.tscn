[gd_scene load_steps=25 format=3 uid="uid://w6mllopse3wt"]

[ext_resource type="PackedScene" uid="uid://14cc171vx3nh" path="res://UI/individual_upgrade_panel.tscn" id="1_0s0gu"]
[ext_resource type="Script" path="res://UI/upgrade_screen_panel.gd" id="1_cnujf"]
[ext_resource type="Script" path="res://Powerups/powerupdata.gd" id="2_3ofe6"]
[ext_resource type="PackedScene" uid="uid://b4qjjq0v6o2kw" path="res://UI/player_ready_indicator.tscn" id="3_2mijq"]
[ext_resource type="Resource" uid="uid://ccoa7j7mlp0jc" path="res://Powerups/PowerupDataResourceFiles/powerupdata_boomerang.tres" id="3_3uka7"]
[ext_resource type="Resource" uid="uid://cq1s8jwavt8ep" path="res://Powerups/PowerupDataResourceFiles/powerupdata_orbit.tres" id="4_g814s"]
[ext_resource type="Resource" uid="uid://cwsbyqniccvqj" path="res://Powerups/PowerupDataResourceFiles/powerupdata_revolving.tres" id="5_17hfx"]
[ext_resource type="Resource" uid="uid://lc2cobp8qm3y" path="res://Powerups/PowerupDataResourceFiles/powerupdata_scythe.tres" id="6_b5on6"]
[ext_resource type="Resource" uid="uid://ccwy7yx1gd6gp" path="res://Powerups/PowerupDataResourceFiles/powerupdata_shooting.tres" id="7_tydhb"]
[ext_resource type="Resource" uid="uid://dwpphuuknq01i" path="res://Powerups/PowerupDataResourceFiles/powerupdata_trail.tres" id="8_yawss"]
[ext_resource type="Resource" uid="uid://cj3ir3yldvbtn" path="res://Powerups/PowerupDataResourceFiles/powerupdata_laser.tres" id="9_l1ugi"]
[ext_resource type="Resource" uid="uid://dg1enwknoes20" path="res://Powerups/PowerupDataResourceFiles/powerupdata_pet.tres" id="10_hqxjy"]
[ext_resource type="Resource" uid="uid://b60dhg75p3ppn" path="res://Powerups/PowerupDataResourceFiles/powerupdata_grenade.tres" id="11_b6mky"]
[ext_resource type="Resource" uid="uid://bp1uxo1q43yq0" path="res://Powerups/PowerupDataResourceFiles/powerupdata_shotgun.tres" id="12_msdcf"]
[ext_resource type="Theme" uid="uid://cckqeojf813vy" path="res://Sprites/UI/description_text.tres" id="13_giirl"]
[ext_resource type="Resource" uid="uid://cdllaft4kpcdv" path="res://Powerups/PowerupDataResourceFiles/powerupdata_mines.tres" id="13_yxx1b"]
[ext_resource type="Resource" uid="uid://bivxdimack67x" path="res://Powerups/PowerupDataResourceFiles/powerupdata_raindrop.tres" id="14_4dk1e"]
[ext_resource type="Resource" uid="uid://benorf1g244xo" path="res://Powerups/PowerupDataResourceFiles/powerupdata_boomerang_multiplayer.tres" id="15_cjf5j"]
[ext_resource type="Theme" uid="uid://16ovb44akcwm" path="res://Sprites/UI/description_white_text.tres" id="15_g80km"]
[ext_resource type="Texture2D" uid="uid://c5pei4ynutwlh" path="res://Sprites/UI/LobbyButton.png" id="15_hy6ya"]
[ext_resource type="Resource" uid="uid://bwej72maxgsht" path="res://Powerups/PowerupDataResourceFiles/powerupdata_laser_multiplayer.tres" id="16_2bo1k"]
[ext_resource type="Theme" uid="uid://dsl2fiy1yknb4" path="res://Sprites/UI/lobby_button.tres" id="16_12wdd"]
[ext_resource type="Script" path="res://UI/button_hover.gd" id="16_513rf"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_qovy7"]
bg_color = Color(0, 0, 0, 0.0627451)

[node name="UpgradeScreenPanel" type="Panel" node_paths=PackedStringArray("upgrade_panels_holder", "reroll_button", "reroll_label", "reroll_texture", "players_selecting_upgrades_window", "player_ready_indicator_holder")]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_qovy7")
script = ExtResource("1_cnujf")
all_powerup_data = Array[ExtResource("2_3ofe6")]([ExtResource("3_3uka7"), ExtResource("4_g814s"), ExtResource("5_17hfx"), ExtResource("6_b5on6"), ExtResource("7_tydhb"), ExtResource("8_yawss"), ExtResource("9_l1ugi"), ExtResource("10_hqxjy"), ExtResource("11_b6mky"), ExtResource("12_msdcf"), ExtResource("13_yxx1b"), ExtResource("14_4dk1e"), ExtResource("15_cjf5j"), ExtResource("16_2bo1k")])
upgrade_panels_holder = NodePath("PowerupUpgradesContainer")
reroll_button = NodePath("RerollButton")
reroll_label = NodePath("RerollButton/TextureRect/Reroll_Label")
reroll_texture = NodePath("RerollButton/TextureRect")
players_selecting_upgrades_window = NodePath("PlayersSelectingUpgrades")
player_ready_indicator_holder = NodePath("PlayersSelectingUpgrades/ReadyIndicatorContainer")

[node name="Background" type="Panel" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Title" type="Label" parent="."]
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -338.0
offset_top = 82.0
offset_right = 338.0
offset_bottom = 124.0
grow_horizontal = 2
theme = ExtResource("13_giirl")
theme_override_font_sizes/font_size = 72
text = "Level Up!"
horizontal_alignment = 1
vertical_alignment = 1

[node name="PowerupUpgradesContainer" type="HBoxContainer" parent="."]
layout_mode = 2
offset_left = 50.0
offset_top = 270.0
offset_right = 1850.0
offset_bottom = 668.0
size_flags_horizontal = 3
theme_override_constants/separation = 150
alignment = 1

[node name="IndividualUpgradePanel" parent="PowerupUpgradesContainer" instance=ExtResource("1_0s0gu")]
layout_mode = 2

[node name="IndividualUpgradePanel2" parent="PowerupUpgradesContainer" instance=ExtResource("1_0s0gu")]
layout_mode = 2

[node name="IndividualUpgradePanel3" parent="PowerupUpgradesContainer" instance=ExtResource("1_0s0gu")]
layout_mode = 2

[node name="IndividualUpgradePanel4" parent="PowerupUpgradesContainer" instance=ExtResource("1_0s0gu")]
layout_mode = 2

[node name="RerollButton" type="Button" parent="." node_paths=PackedStringArray("label")]
custom_minimum_size = Vector2(400, 70)
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -300.0
offset_top = -332.0
offset_right = 300.0
offset_bottom = -232.0
grow_horizontal = 2
grow_vertical = 0
theme = ExtResource("16_12wdd")
theme_override_font_sizes/font_size = 32
text = "Reroll (1 remaining)"
script = ExtResource("16_513rf")
label = NodePath("TextureRect")

[node name="TextureRect" type="TextureRect" parent="RerollButton"]
layout_mode = 1
anchors_preset = 6
anchor_left = 1.0
anchor_top = 0.5
anchor_right = 1.0
anchor_bottom = 0.5
offset_left = -600.0
offset_top = -50.0
offset_bottom = 50.0
grow_horizontal = 0
grow_vertical = 2
pivot_offset = Vector2(300, 50)
texture = ExtResource("15_hy6ya")
expand_mode = 1
stretch_mode = 5

[node name="Reroll_Label" type="Label" parent="RerollButton/TextureRect"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -256.5
offset_top = -28.0
offset_right = 256.5
offset_bottom = 28.0
grow_horizontal = 2
grow_vertical = 2
theme = ExtResource("16_12wdd")
theme_override_font_sizes/font_size = 32
text = "Reroll (1 remaining)"
horizontal_alignment = 1
vertical_alignment = 1

[node name="PlayersSelectingUpgrades" type="Control" parent="."]
visible = false
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Label" type="Label" parent="PlayersSelectingUpgrades"]
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -338.0
offset_top = 200.0
offset_right = 338.0
offset_bottom = 242.0
grow_horizontal = 2
theme = ExtResource("15_g80km")
theme_override_font_sizes/font_size = 30
text = "Waiting for other players to choose upgrades..."
horizontal_alignment = 1
vertical_alignment = 1

[node name="ReadyIndicatorContainer" type="HBoxContainer" parent="PlayersSelectingUpgrades"]
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -139.0
offset_top = -250.0
offset_right = 139.0
offset_bottom = -163.0
grow_horizontal = 2
grow_vertical = 0
alignment = 1

[node name="PlayerReadyIndicator" parent="PlayersSelectingUpgrades/ReadyIndicatorContainer" instance=ExtResource("3_2mijq")]
custom_minimum_size = Vector2(60, 60)
layout_mode = 2
size_flags_vertical = 4

[node name="PlayerReadyIndicator2" parent="PlayersSelectingUpgrades/ReadyIndicatorContainer" instance=ExtResource("3_2mijq")]
custom_minimum_size = Vector2(60, 60)
layout_mode = 2
size_flags_vertical = 4

[node name="PlayerReadyIndicator3" parent="PlayersSelectingUpgrades/ReadyIndicatorContainer" instance=ExtResource("3_2mijq")]
custom_minimum_size = Vector2(60, 60)
layout_mode = 2
size_flags_vertical = 4

[node name="PlayerReadyIndicator4" parent="PlayersSelectingUpgrades/ReadyIndicatorContainer" instance=ExtResource("3_2mijq")]
custom_minimum_size = Vector2(60, 60)
layout_mode = 2
size_flags_vertical = 4

[connection signal="button_down" from="RerollButton" to="." method="_on_reroll_button_down"]
[connection signal="mouse_entered" from="RerollButton" to="RerollButton" method="_on_mouse_entered"]
[connection signal="mouse_exited" from="RerollButton" to="RerollButton" method="_on_mouse_exited"]
