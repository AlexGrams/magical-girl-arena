[gd_scene load_steps=10 format=3 uid="uid://w6mllopse3wt"]

[ext_resource type="PackedScene" uid="uid://14cc171vx3nh" path="res://UI/individual_upgrade_panel.tscn" id="1_0s0gu"]
[ext_resource type="Script" path="res://UI/upgrade_screen_panel.gd" id="1_cnujf"]
[ext_resource type="PackedScene" uid="uid://b4qjjq0v6o2kw" path="res://UI/player_ready_indicator.tscn" id="3_2mijq"]
[ext_resource type="Theme" uid="uid://cckqeojf813vy" path="res://Sprites/UI/description_text.tres" id="13_giirl"]
[ext_resource type="Theme" uid="uid://16ovb44akcwm" path="res://Sprites/UI/description_white_text.tres" id="15_g80km"]
[ext_resource type="Texture2D" uid="uid://c5pei4ynutwlh" path="res://Sprites/UI/LobbyButton.png" id="15_hy6ya"]
[ext_resource type="Theme" uid="uid://dsl2fiy1yknb4" path="res://Sprites/UI/lobby_button.tres" id="16_12wdd"]
[ext_resource type="Script" path="res://UI/button_hover.gd" id="16_513rf"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_qovy7"]
bg_color = Color(0, 0, 0, 0.0627451)

[node name="UpgradeScreenPanel" type="Panel" node_paths=PackedStringArray("upgrade_panels_holder", "reroll_button", "powerup_reroll_button", "artifact_reroll_button", "players_selecting_upgrades_window", "player_ready_indicator_holder")]
process_mode = 2
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_qovy7")
script = ExtResource("1_cnujf")
upgrade_panels_holder = NodePath("PowerupUpgradesContainer")
reroll_button = NodePath("RerollsHBoxContainer/RerollButton")
powerup_reroll_button = NodePath("RerollsHBoxContainer/PowerupRerollButton")
artifact_reroll_button = NodePath("RerollsHBoxContainer/ArtifactRerollButton")
players_selecting_upgrades_window = NodePath("PlayersSelectingUpgrades")
player_ready_indicator_holder = NodePath("PlayersSelectingUpgrades/ReadyIndicatorContainer")

[node name="Background" type="Panel" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Title" type="Label" parent="."]
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -338.0
offset_top = 82.0
offset_right = 338.0
offset_bottom = 124.0
grow_horizontal = 2
theme = ExtResource("13_giirl")
theme_override_font_sizes/font_size = 72
text = "Level Up!"
horizontal_alignment = 1
vertical_alignment = 1

[node name="PowerupUpgradesContainer" type="HBoxContainer" parent="."]
layout_mode = 2
offset_left = 50.0
offset_top = 270.0
offset_right = 1850.0
offset_bottom = 668.0
size_flags_horizontal = 3
theme_override_constants/separation = 150
alignment = 1

[node name="IndividualUpgradePanel" parent="PowerupUpgradesContainer" instance=ExtResource("1_0s0gu")]
layout_mode = 2

[node name="IndividualUpgradePanel2" parent="PowerupUpgradesContainer" instance=ExtResource("1_0s0gu")]
layout_mode = 2

[node name="IndividualUpgradePanel3" parent="PowerupUpgradesContainer" instance=ExtResource("1_0s0gu")]
layout_mode = 2

[node name="IndividualUpgradePanel4" parent="PowerupUpgradesContainer" instance=ExtResource("1_0s0gu")]
layout_mode = 2

[node name="RerollsHBoxContainer" type="HBoxContainer" parent="."]
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -730.0
offset_top = -330.0
offset_right = 770.0
offset_bottom = -250.0
grow_horizontal = 2
grow_vertical = 0
alignment = 1

[node name="RerollButton" type="Button" parent="RerollsHBoxContainer" node_paths=PackedStringArray("label", "texture", "text")]
custom_minimum_size = Vector2(540, 70)
layout_mode = 2
theme = ExtResource("16_12wdd")
theme_override_font_sizes/font_size = 32
text = Object(Label,"_import_path":NodePath(""),"unique_name_in_owner":false,"process_mode":0,"process_priority":0,"process_physics_priority":0,"process_thread_group":0,"physics_interpolation_mode":2,"auto_translate_mode":0,"editor_description":"","visible":true,"modulate":Color(1, 1, 1, 1),"self_modulate":Color(1, 1, 1, 1),"show_behind_parent":false,"top_level":false,"clip_children":0,"light_mask":1,"visibility_layer":1,"z_index":0,"z_as_relative":true,"y_sort_enabled":false,"texture_filter":0,"texture_repeat":0,"material":null,"use_parent_material":false,"clip_contents":false,"custom_minimum_size":Vector2(0, 0),"layout_direction":0,"layout_mode":1,"anchors_preset":15,"anchor_left":0.0,"anchor_top":0.0,"anchor_right":1.0,"anchor_bottom":1.0,"offset_left":0.0,"offset_top":0.0,"offset_right":0.0,"offset_bottom":0.0,"grow_horizontal":2,"grow_vertical":2,"rotation":0.0,"scale":Vector2(1, 1),"pivot_offset":Vector2(0, 0),"size_flags_horizontal":1,"size_flags_vertical":4,"size_flags_stretch_ratio":1.0,"localize_numeral_system":true,"tooltip_text":"","focus_neighbor_left":NodePath(""),"focus_neighbor_top":NodePath(""),"focus_neighbor_right":NodePath(""),"focus_neighbor_bottom":NodePath(""),"focus_next":NodePath(""),"focus_previous":NodePath(""),"focus_mode":0,"mouse_filter":2,"mouse_force_pass_scroll_events":true,"mouse_default_cursor_shape":0,"shortcut_context":null,"theme":ExtResource("16_12wdd"),"theme_type_variation":&"","theme_override_font_sizes/font_size":32,"text":"Reroll (1 remaining)","label_settings":null,"horizontal_alignment":1,"vertical_alignment":1,"autowrap_mode":0,"justification_flags":163,"clip_text":false,"text_overrun_behavior":0,"ellipsis_char":"…","uppercase":false,"tab_stops":PackedFloat32Array(),"lines_skipped":0,"max_lines_visible":-1,"visible_characters":-1,"visible_characters_behavior":0,"visible_ratio":1.0,"text_direction":0,"language":"","structured_text_bidi_override":0,"structured_text_bidi_override_options":[],"script":null)

script = ExtResource("16_513rf")
label = NodePath("TextureRect")
texture = NodePath("TextureRect")
text = NodePath("TextureRect/Reroll_Label")

[node name="TextureRect" type="TextureRect" parent="RerollsHBoxContainer/RerollButton"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
pivot_offset = Vector2(300, 50)
texture = ExtResource("15_hy6ya")
expand_mode = 1
stretch_mode = 5

[node name="Reroll_Label" type="Label" parent="RerollsHBoxContainer/RerollButton/TextureRect"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme = ExtResource("16_12wdd")
theme_override_font_sizes/font_size = 32
text = "Reroll (1 remaining)"
horizontal_alignment = 1
vertical_alignment = 1

[node name="PowerupRerollButton" type="Button" parent="RerollsHBoxContainer" node_paths=PackedStringArray("label", "texture", "text")]
custom_minimum_size = Vector2(540, 70)
layout_mode = 2
theme = ExtResource("16_12wdd")
theme_override_font_sizes/font_size = 32
text = Object(Label,"_import_path":NodePath(""),"unique_name_in_owner":false,"process_mode":0,"process_priority":0,"process_physics_priority":0,"process_thread_group":0,"physics_interpolation_mode":2,"auto_translate_mode":0,"editor_description":"","visible":true,"modulate":Color(1, 1, 1, 1),"self_modulate":Color(1, 1, 1, 1),"show_behind_parent":false,"top_level":false,"clip_children":0,"light_mask":1,"visibility_layer":1,"z_index":0,"z_as_relative":true,"y_sort_enabled":false,"texture_filter":0,"texture_repeat":0,"material":null,"use_parent_material":false,"clip_contents":false,"custom_minimum_size":Vector2(0, 0),"layout_direction":0,"layout_mode":1,"anchors_preset":15,"anchor_left":0.0,"anchor_top":0.0,"anchor_right":1.0,"anchor_bottom":1.0,"offset_left":0.0,"offset_top":0.0,"offset_right":0.0,"offset_bottom":0.0,"grow_horizontal":2,"grow_vertical":2,"rotation":0.0,"scale":Vector2(1, 1),"pivot_offset":Vector2(0, 0),"size_flags_horizontal":1,"size_flags_vertical":4,"size_flags_stretch_ratio":1.0,"localize_numeral_system":true,"tooltip_text":"","focus_neighbor_left":NodePath(""),"focus_neighbor_top":NodePath(""),"focus_neighbor_right":NodePath(""),"focus_neighbor_bottom":NodePath(""),"focus_next":NodePath(""),"focus_previous":NodePath(""),"focus_mode":0,"mouse_filter":2,"mouse_force_pass_scroll_events":true,"mouse_default_cursor_shape":0,"shortcut_context":null,"theme":ExtResource("16_12wdd"),"theme_type_variation":&"","theme_override_font_sizes/font_size":28,"text":"Powerup Reroll (1 remaining)","label_settings":null,"horizontal_alignment":1,"vertical_alignment":1,"autowrap_mode":0,"justification_flags":163,"clip_text":false,"text_overrun_behavior":0,"ellipsis_char":"…","uppercase":false,"tab_stops":PackedFloat32Array(),"lines_skipped":0,"max_lines_visible":-1,"visible_characters":-1,"visible_characters_behavior":0,"visible_ratio":1.0,"text_direction":0,"language":"","structured_text_bidi_override":0,"structured_text_bidi_override_options":[],"script":null)

script = ExtResource("16_513rf")
label = NodePath("TextureRect")
texture = NodePath("TextureRect")
text = NodePath("TextureRect/Reroll_Label")

[node name="TextureRect" type="TextureRect" parent="RerollsHBoxContainer/PowerupRerollButton"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
pivot_offset = Vector2(300, 50)
texture = ExtResource("15_hy6ya")
expand_mode = 1
stretch_mode = 5

[node name="Reroll_Label" type="Label" parent="RerollsHBoxContainer/PowerupRerollButton/TextureRect"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme = ExtResource("16_12wdd")
theme_override_font_sizes/font_size = 28
text = "Powerup Reroll (1 remaining)"
horizontal_alignment = 1
vertical_alignment = 1

[node name="ArtifactRerollButton" type="Button" parent="RerollsHBoxContainer" node_paths=PackedStringArray("label", "texture", "text")]
custom_minimum_size = Vector2(540, 70)
layout_mode = 2
theme = ExtResource("16_12wdd")
theme_override_font_sizes/font_size = 32
text = Object(Label,"_import_path":NodePath(""),"unique_name_in_owner":false,"process_mode":0,"process_priority":0,"process_physics_priority":0,"process_thread_group":0,"physics_interpolation_mode":2,"auto_translate_mode":0,"editor_description":"","visible":true,"modulate":Color(1, 1, 1, 1),"self_modulate":Color(1, 1, 1, 1),"show_behind_parent":false,"top_level":false,"clip_children":0,"light_mask":1,"visibility_layer":1,"z_index":0,"z_as_relative":true,"y_sort_enabled":false,"texture_filter":0,"texture_repeat":0,"material":null,"use_parent_material":false,"clip_contents":false,"custom_minimum_size":Vector2(0, 0),"layout_direction":0,"layout_mode":1,"anchors_preset":15,"anchor_left":0.0,"anchor_top":0.0,"anchor_right":1.0,"anchor_bottom":1.0,"offset_left":0.0,"offset_top":0.0,"offset_right":0.0,"offset_bottom":0.0,"grow_horizontal":2,"grow_vertical":2,"rotation":0.0,"scale":Vector2(1, 1),"pivot_offset":Vector2(0, 0),"size_flags_horizontal":1,"size_flags_vertical":4,"size_flags_stretch_ratio":1.0,"localize_numeral_system":true,"tooltip_text":"","focus_neighbor_left":NodePath(""),"focus_neighbor_top":NodePath(""),"focus_neighbor_right":NodePath(""),"focus_neighbor_bottom":NodePath(""),"focus_next":NodePath(""),"focus_previous":NodePath(""),"focus_mode":0,"mouse_filter":2,"mouse_force_pass_scroll_events":true,"mouse_default_cursor_shape":0,"shortcut_context":null,"theme":ExtResource("16_12wdd"),"theme_type_variation":&"","theme_override_font_sizes/font_size":28,"text":"Artifact Reroll (1 remaining)","label_settings":null,"horizontal_alignment":1,"vertical_alignment":1,"autowrap_mode":0,"justification_flags":163,"clip_text":false,"text_overrun_behavior":0,"ellipsis_char":"…","uppercase":false,"tab_stops":PackedFloat32Array(),"lines_skipped":0,"max_lines_visible":-1,"visible_characters":-1,"visible_characters_behavior":0,"visible_ratio":1.0,"text_direction":0,"language":"","structured_text_bidi_override":0,"structured_text_bidi_override_options":[],"script":null)

script = ExtResource("16_513rf")
label = NodePath("TextureRect")
texture = NodePath("TextureRect")
text = NodePath("TextureRect/Reroll_Label")

[node name="TextureRect" type="TextureRect" parent="RerollsHBoxContainer/ArtifactRerollButton"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
pivot_offset = Vector2(300, 50)
texture = ExtResource("15_hy6ya")
expand_mode = 1
stretch_mode = 5

[node name="Reroll_Label" type="Label" parent="RerollsHBoxContainer/ArtifactRerollButton/TextureRect"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme = ExtResource("16_12wdd")
theme_override_font_sizes/font_size = 28
text = "Artifact Reroll (1 remaining)"
horizontal_alignment = 1
vertical_alignment = 1

[node name="PlayersSelectingUpgrades" type="Control" parent="."]
visible = false
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Label" type="Label" parent="PlayersSelectingUpgrades"]
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -338.0
offset_top = 200.0
offset_right = 338.0
offset_bottom = 242.0
grow_horizontal = 2
theme = ExtResource("15_g80km")
theme_override_font_sizes/font_size = 30
text = "Waiting for other players to choose upgrades..."
horizontal_alignment = 1
vertical_alignment = 1

[node name="ReadyIndicatorContainer" type="HBoxContainer" parent="PlayersSelectingUpgrades"]
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -139.0
offset_top = -250.0
offset_right = 139.0
offset_bottom = -163.0
grow_horizontal = 2
grow_vertical = 0
alignment = 1

[node name="PlayerReadyIndicator" parent="PlayersSelectingUpgrades/ReadyIndicatorContainer" instance=ExtResource("3_2mijq")]
custom_minimum_size = Vector2(60, 60)
layout_mode = 2
size_flags_vertical = 4

[node name="PlayerReadyIndicator2" parent="PlayersSelectingUpgrades/ReadyIndicatorContainer" instance=ExtResource("3_2mijq")]
custom_minimum_size = Vector2(60, 60)
layout_mode = 2
size_flags_vertical = 4

[node name="PlayerReadyIndicator3" parent="PlayersSelectingUpgrades/ReadyIndicatorContainer" instance=ExtResource("3_2mijq")]
custom_minimum_size = Vector2(60, 60)
layout_mode = 2
size_flags_vertical = 4

[node name="PlayerReadyIndicator4" parent="PlayersSelectingUpgrades/ReadyIndicatorContainer" instance=ExtResource("3_2mijq")]
custom_minimum_size = Vector2(60, 60)
layout_mode = 2
size_flags_vertical = 4

[connection signal="button_down" from="RerollsHBoxContainer/RerollButton" to="." method="_on_reroll_button_down"]
[connection signal="mouse_entered" from="RerollsHBoxContainer/RerollButton" to="RerollsHBoxContainer/RerollButton" method="_on_mouse_entered"]
[connection signal="mouse_exited" from="RerollsHBoxContainer/RerollButton" to="RerollsHBoxContainer/RerollButton" method="_on_mouse_exited"]
[connection signal="button_down" from="RerollsHBoxContainer/PowerupRerollButton" to="." method="_on_powerup_reroll_button_down"]
[connection signal="mouse_entered" from="RerollsHBoxContainer/PowerupRerollButton" to="RerollsHBoxContainer/PowerupRerollButton" method="_on_mouse_entered"]
[connection signal="mouse_exited" from="RerollsHBoxContainer/PowerupRerollButton" to="RerollsHBoxContainer/PowerupRerollButton" method="_on_mouse_exited"]
[connection signal="button_down" from="RerollsHBoxContainer/ArtifactRerollButton" to="." method="_on_artifact_reroll_button_down"]
[connection signal="mouse_entered" from="RerollsHBoxContainer/ArtifactRerollButton" to="RerollsHBoxContainer/ArtifactRerollButton" method="_on_mouse_entered"]
[connection signal="mouse_exited" from="RerollsHBoxContainer/ArtifactRerollButton" to="RerollsHBoxContainer/ArtifactRerollButton" method="_on_mouse_exited"]
